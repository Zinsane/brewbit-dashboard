<% content_for :head do %>
  <%= javascript_include_tag 'http://www.google.com/jsapi' %>
<% end %>

<div id="device-<%= device.id %>">
  <script type='text/javascript'>
      google.load('visualization', '1.1', {'packages':['annotationchart']});
      google.setOnLoadCallback(drawChart);
      function drawChart() {
        var data = new google.visualization.DataTable();
        data.addColumn('date', 'Date');
        data.addColumn('number', 'Temperature');
        data.addRows([
          [new Date(2314, 2, 15), 12400],
          [new Date(2314, 2, 16), 24045],
          [new Date(2314, 2, 17), 35022],
          [new Date(2314, 2, 18), 12284],
          [new Date(2314, 2, 19), 8476],
          [new Date(2314, 2, 20), 0]
        ]);

        var chart = new google.visualization.AnnotationChart(document.getElementById('device-<%= device.id %>-timeline'));

        var options = {
          displayAnnotations: true,
        };

        chart.draw(data, options);
      }
    </script>
	<div id="device-<%= device.id %>-timeline" style='width: 900px; height: 300px;'></div>
</div>
